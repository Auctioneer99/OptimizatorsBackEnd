{"version":3,"sources":["webpack:///./src/views/Login.vue?c114","webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["type","class","logIn","required","User","email","aria-describedby","placeholder","password","computed","state","auth","role","userRole","data","StoreUser","methods","method","withCredentials","headers","response","console","log","document","cookie","logOut","this","logout","render"],"mappings":"kHAAA,W,2DCGK,eAAa,UAAT,QAAI,G,EACR,eAAoB,aAAb,SAAK,G,EACiG,eAAI,mB,EACjH,eAAqB,aAAd,UAAM,G,EACmE,eAAK,mB,EACrF,eAA4D,UAApDA,KAAK,SAASC,MAAM,mBAAkB,SAAK,G,gDAPvD,eASM,YARJ,eAOO,QAPDA,MAAM,QAAS,SAAM,+CAAU,EAAAC,UAAK,e,CACxC,EACA,E,eACA,eAA6G,SAAtGC,SAAA,G,qDAAkB,EAAAC,KAAKC,MAAK,IAAEL,KAAK,QAAQM,mBAAiB,YAAYC,YAAY,kB,mBAAlE,EAAAH,KAAKC,SAA+E,EAC7G,E,eACA,eAAgF,SAAzEF,SAAA,G,qDAAkB,EAAAC,KAAKI,SAAQ,IAAER,KAAK,WAAWO,YAAY,Y,mBAA3C,EAAAH,KAAKI,YAAkD,EAChF,G,+EAQU,GACbC,SAAS,eAAS,CAChBJ,MAAM,SAAAK,GAAI,OAAKA,EAAMC,KAAKN,OAE1BO,KAAK,SAAAF,GAAI,OAAKA,EAAMC,KAAKE,YAE3BC,KANa,WAOT,MAAM,CACJV,KAAK,CAACC,MAAM,GAAIG,SAAS,IACzBO,UAAU,CAACV,MAAM,GAAGO,KAAK,MAG/BI,QAAO,+DACF,eAAW,OAAO,CAAC,WACnB,eAAW,OAAO,CAAC,YACnB,eAAW,OAAO,CAAC,qBAHjB,IAIGd,MAJH,WAIU,uLAEY,IAAM,gDAAiD,CAC5Ee,OAAQ,OACRC,iBAAiB,EACjBC,QAAS,CACP,oCAAoC,GAEpCL,KAAM,EAAKV,OARJ,OAELgB,EAFK,OAWTC,QAAQC,IAAIF,GACZC,QAAQC,IAAIC,SAASC,QAZZ,mDAeTH,QAAQC,IAAI,KAAGF,UACfC,QAAQC,IAAIC,SAASC,QAhBZ,4DA0BbC,OA9BG,WA+BDC,KAAKC,a,UCtDb,EAAOC,OAASA,EAED,gB","file":"js/chunk-03e7c273.38fd75f5.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Login.vue?vue&type=style&index=0&id=bf5f4f16&lang=css\"","<template>\r\n <div>\r\n   <form class=\"login\" @submit.prevent='logIn()'>\r\n     <h1>Вход</h1>\r\n     <label>Email</label>\r\n     <input required v-model=\"User.email\" type=\"email\" aria-describedby=\"emailHelp\" placeholder=\"test@gmail.com\"/><br>\r\n     <label>Пароль</label>\r\n     <input required v-model=\"User.password\" type=\"password\" placeholder=\"Pa$$w0rd\"/><br/>    \r\n     <button type=\"submit\" class=\"game_button_add\">Войти</button>\r\n   </form>\r\n </div>\r\n</template>\r\n<script>\r\n\r\nimport axios from 'axios'\r\nimport { mapActions, mapGetters, mapState } from 'vuex'\r\nexport default {\r\n  computed:mapState({\r\n    email:state => state.auth.email,\r\n    //token:state=> state.auth.token\r\n    role:state => state.auth.userRole\r\n  }),\r\n  data(){\r\n      return{\r\n        User:{email:'', password:''},\r\n        StoreUser:{email:'',role:''}\r\n      }\r\n  },\r\n  methods:{\r\n    ...mapActions('auth',['login']),\r\n    ...mapActions('auth',['logout']),\r\n    ...mapGetters('auth',['isAuthenticated']),\r\n      async logIn(){\r\n        try {\r\n          let response = await axios('https://optimizators.herokuapp.com/auth/login', {\r\n          method: 'post',\r\n          withCredentials: true,\r\n          headers: {\r\n            'Access-Control-Allow-Credentials': true\r\n          },\r\n            data: this.User\r\n          });\r\n\r\n          console.log(response);\r\n          console.log(document.cookie)\r\n        }\r\n        catch(ex) {\r\n          console.log(ex.response);\r\n          console.log(document.cookie)\r\n        }\r\n        /*\r\n          then(response=>{\r\n            this.StoreUser.email=response.data.email\r\n            this.StoreUser.role=response.data.authorities[0].authority\r\n            this.login(this.StoreUser)\r\n            }).catch(e=>{console.log(e)})\r\n            this.$router.push('/profile')*/\r\n      },\r\n      logOut(){\r\n        this.logout()\r\n      }\r\n    }\r\n}\r\n</script>\r\n<style>\r\n.game_button_add{\r\n  border-radius: 5px;\r\n  text-decoration: none;\r\n  display: inline-block;\r\n  padding: 5px 10px;\r\n  background-image: linear-gradient(45deg, #6ab1d7 0%, #33d9de 50%, #002878 100%);\r\n  background-position: 100% 0;\r\n  background-size: 200% 200%;\r\n  color: white;\r\n  box-shadow: 0 16px 32px 0 rgba(0, 40, 120, .35);\r\n  transition: .5s;\r\n  margin:2px;\r\n}\r\n.game_button_add:hover{\r\n  box-shadow: 0 0 0 0 rgba(0, 40, 120, 0);\r\n  background-position: 0 0;\r\n}\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=bf5f4f16\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=bf5f4f16&lang=css\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}